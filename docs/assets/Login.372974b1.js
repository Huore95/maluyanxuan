import{_ as M,V,i as x,o as w,c as N,a as s,h as T,W as H,D as L,X as W,I as B,N as z,Y as P,J as R,Z as q,m as u,w as g,u as i,T as v,Q as D,$ as U,t as b,f as $,p as E,q as F}from"./index.c307a268.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{l as J,s as C,r as Q}from"./index.e04da3cd.js";const X=""+new URL("logo.1e8c34ec.png",import.meta.url).href;const Y={class:"s-canvas"},Z=["width","height"],j={__name:"Identify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:35},fontSizeMax:{type:Number,default:35},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:100},lineColorMax:{type:Number,default:200},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:120},contentHeight:{type:Number,default:40}},setup(c){const t=c,l=(e,o)=>Math.floor(Math.random()*(o-e)+e),r=(e,o)=>{let n=l(e,o),m=l(e,o),f=l(e,o);return"rgb("+n+","+m+","+f+")"},h=e=>{for(let o=0;o<3;o++)e.strokeStyle=r(t.lineColorMin,t.lineColorMax),e.beginPath(),e.moveTo(l(0,t.contentWidth),l(0,t.contentHeight)),e.lineTo(l(0,t.contentWidth),l(0,t.contentHeight)),e.stroke()},y=(e,o,n)=>{e.fillStyle=r(t.colorMin,t.colorMax),e.font=l(t.fontSizeMin,t.fontSizeMax)+"px SimHei";let m=(n+1)*(t.contentWidth/(t.identifyCode.length+1)),f=l(t.fontSizeMax,t.contentHeight-5);var _=l(-10,10);e.translate(m,f),e.rotate(_*Math.PI/100),e.fillText(o,0,0),e.rotate(-_*Math.PI/100),e.translate(-m,-f)},p=e=>{for(let o=0;o<30;o++)e.fillStyle=r(0,255),e.beginPath(),e.arc(l(0,t.contentWidth),l(0,t.contentHeight),1,0,2*Math.PI),e.fill()},d=()=>{let o=document.getElementById("s-canvas").getContext("2d");o.textBaseline="bottom",o.fillStyle=r(t.backgroundColorMin,t.backgroundColorMax),o.fillRect(0,0,t.contentWidth,t.contentHeight);for(let n=0;n<t.identifyCode.length;n++)y(o,t.identifyCode[n],n);h(o),p(o)};return V(()=>t.identifyCode,(e,o)=>{d()}),x(()=>{d()}),(e,o)=>(w(),N("div",Y,[s("canvas",{id:"s-canvas",width:t.contentWidth,height:t.contentHeight},null,8,Z)]))}},A=M(j,[["__scopeId","data-v-9a6eb64a"]]);const S=c=>(E("data-v-c4de9542"),c=c(),F(),c),G={class:"login"},K=S(()=>s("img",{src:X,width:"100",class:"logo",alt:""},null,-1)),O={class:"login-form"},ee={style:{display:"flex",width:"100%","margin-top":"10px"}},te=S(()=>s("div",{class:"identify"},"\u9A8C\u8BC1\u7801",-1)),oe={style:{margin:"16px"}},ne={__name:"Login",setup(c){let t=T({username:"17633935698",password:"123456",isTitle:!0}),l=H(),r=L(),h=()=>{t.isTitle?J(t.username,t.password).then(o=>{o.resultCode==200&&(localStorage.setItem("mltoken",o.data),l.query.needback==1?r.back():r.replace("/home"),C({type:"success",message:"\u767B\u5F55\u6210\u529F"}))}):Q(t.username,t.password).then(o=>{console.log(o),o.resultCode==200&&(C({type:"success",message:"\u6CE8\u518C\u6210\u529F"}),t.isTitle=!0)})},y=()=>{},{username:p,password:d,isTitle:e}=W(t);return(o,n)=>{const m=B,f=z,_=P,k=R,I=q;return w(),N("div",G,[s("header",null,[u(f,{title:i(e)?"\u767B\u5F55":"\u6CE8\u518C","left-arrow":"",onClickLeft:i(y)},{right:g(()=>[u(m,{name:"ellipsis",size:"18"})]),_:1},8,["title","onClickLeft"])]),K,s("div",O,[u(I,{onSubmit:i(h)},{default:g(()=>[u(_,{modelValue:i(p),"onUpdate:modelValue":n[0]||(n[0]=a=>v(p)?p.value=a:p=a),name:"\u7528\u6237\u540D",label:"\u7528\u6237\u540D",placeholder:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u624B\u673A\u53F7"}]},null,8,["modelValue"]),u(_,{modelValue:i(d),"onUpdate:modelValue":n[1]||(n[1]=a=>v(d)?d.value=a:d=a),type:"password",name:"\u5BC6\u7801",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"]),s("div",ee,[te,D(s("input",{type:"text",placeholder:"\u9A8C\u8BC1\u7801","onUpdate:modelValue":n[2]||(n[2]=a=>o.identifyVal=a)},null,512),[[U,o.identifyVal]]),s("div",{class:"code",onClick:n[3]||(n[3]=(...a)=>o.refreshCode&&o.refreshCode(...a)),style:{width:"112px"}},[u(A)])]),s("div",oe,[s("p",{class:"link-register",onClick:n[4]||(n[4]=a=>v(e)?e.value=!i(e):e=!i(e))},b(i(e)?"\u7ACB\u5373\u6CE8\u518C":"\u5DF2\u6709\u8D26\u53F7\uFF0C\u7ACB\u5373\u767B\u5F55"),1),u(k,{round:"",block:"",type:"primary","native-type":"submit"},{default:g(()=>[$(b(i(e)?"\u767B\u5F55":"\u6CE8\u518C"),1)]),_:1})])]),_:1},8,["onSubmit"])])])}}},ce=M(ne,[["__scopeId","data-v-c4de9542"]]);export{ce as default};
