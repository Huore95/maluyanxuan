import{v as i,s as _,y as v,z as C,m as l,A as w,a2 as B,D as I,h as k,i as y,I as x,N as D,a3 as N,o as b,c as E,w as O,u as a,F as P}from"./index.c307a268.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import{f as L}from"./index.e04da3cd.js";let d;const F={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let S=i({},F);function T(){({instance:d}=v({setup(){const{state:o,toggle:n}=C();return()=>l(B,w(o,{"onUpdate:show":n}),null)}}))}function V(r){return _?new Promise((o,n)=>{d||T(),d.open(i({},S,r,{callback:t=>{(t==="confirm"?o:n)(t)}}))}):Promise.resolve()}const $=r=>V(i({showCancelButton:!0},r));const G={__name:"AddressList",setup(r){let o=I(),n=!0,t=k({list:[],chosenAddressId:""});y(()=>{c().then(()=>{let s=t.list.filter(e=>e.isDefault==!0);t.chosenAddressId=s[0].id})});async function c(){await L().then(s=>{t.list=s.data.map(e=>({id:e.addressId,name:e.userName,tel:e.userPhone,address:e.provinceName+e.cityName+e.regionName+e.detailAddress,isDefault:e.defaultFlag}))})}let m=()=>{o.push("/addressAddAndEdit")},p=s=>{o.push("/addressAddAndEdit?addressId="+s.id),n=!1},f=s=>{if(!n){n=!0;return}$({title:"\u786E\u8BA4\u5730\u5740",message:"\u662F\u5426\u786E\u8BA4\u9009\u62E9\u6B64\u5730\u5740"}).then(()=>{o.push({path:"/create-order",query:{addressId:s.id}})})};return(s,e)=>{const h=x,A=D,g=N;return b(),E(P,null,[l(A,{title:"\u5730\u5740\u7BA1\u7406","left-arrow":"",onClickLeft:e[0]||(e[0]=u=>s.$router.back())},{right:O(()=>[l(h,{name:"ellipsis"})]),_:1}),l(g,{modelValue:a(t).chosenAddressId,"onUpdate:modelValue":e[1]||(e[1]=u=>a(t).chosenAddressId=u),list:a(t).list,"default-tag-text":"\u9ED8\u8BA4",onAdd:a(m),onEdit:a(p),onClickItem:a(f)},null,8,["modelValue","list","onAdd","onEdit","onClickItem"])],64)}}};export{G as default};
